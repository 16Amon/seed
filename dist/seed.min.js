/*
* seed v1.0.0
* AMD module loader
*
* Copyright (c) 2013 Yiguo Chan
* Released under the MIT Licenses
*
* Mail : chenmnkken@gmail.com
* Date : 2013-09-08
*/
(function(u,B){u.seed=function(){var E=/^(http(?:s)?\:\/\/|file\:.+\:\/)/,C=/([^\/?]+?)(\.(?:js|css))?(\?.*)?$/,H=/loaded|complete|undefined/,v={},w={},n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,F="seed_mod_"+ +new Date+(Math.random()+"").slice(-8),s=!!document.addEventListener,D=null,G={},h={error:function(b){throw Error(b);},init:function(){var b,a,c;document.currentScript?b=document.currentScript:(a=document.getElementsByTagName("script"),b=a[a.length-1]);
a=b.getAttribute("data-main");c=b.getAttribute("data-baseurl");b=b.hasAttribute?b.src:b.getAttribute("src",4);D=c?h.mergePath(c,u.location.href):b.slice(0,b.lastIndexOf("/")+1);a&&(a=a.split(","),t.use(a))},getCurrentScript:function(){var b,a,c;try{h.makeerror()}catch(d){a=d.stack}if(a)return a=a.split(/[@ ]/g).pop(),a="("===a[0]?a.slice(1,-1):a.replace(/\s/,""),a.replace(/(:\d+)?:\d+$/i,"").match(C)[1];a=n.getElementsByTagName("script");for(c=a.length-1;0<=c&&!(b=a[c],b.className===F&&"interactive"===
b.readyState);c--);return b.src.match(C)[1]},mergePath:function(b,a){var c="/"===b.charAt(0),d="http"===a.slice(0,4),e="",f=0,g,h,m;g=a.match(E)[1];a=a.slice(g.length);d&&(e=a.slice(0,a.indexOf("/")+1),a=c?"":a.slice(e.length));d=a.split("/");d.pop();h=b.split("/");h.pop();c&&h.shift();for(c=h.length;f<c;f++)m=h[f],".."===m?d.pop():"."!==m&&d.push(m);f=d.join("/");return g+e+(""===f?"":f+"/")},parseModId:function(b,a){var c=E.test(b),d=b.match(C),e=d[1],f=d[2]||".js",d=d[3]||"";c&&(a=b,b="");c=h.mergePath(b,
a)+e+f+d;return[e,c]},getExports:function(b){if(b){for(var a=b.length,c=t.module,d=[],e=0,f=0;e<a;e++)d[f++]=c[b[e]].exports;return d}return[]},isLoaded:function(b){b=b.deps;for(var a=b.length,c=t.module,d=0,e;d<a;d++)if(e=c[b[d]],4!==e.status)return!1;return!0},factoryHandle:function(b,a,c,d){a.status=3;var e=h.getExports(a.deps);c="function"===typeof c?c.apply(null,e):c;c!==B&&(w[b]&&(c=w[b](c),delete w[b]),a.exports=c);a.status=4;d&&d.length--},fireFactory:function(b){var a=v[b],c=a.factorys,d=
c[0],e,f;d&&(e=d.name,f=t.module[e],h.isLoaded(f)&&(c.shift(),h.factoryHandle(e,f,d.factory,a),c.length&&h.fireFactory(b)))},complete:function(b){var a=t.module,c=b.useKey,d=v[c],e=0,f=0,g,p,m,l;delete b.useKey;if(d)if(d.urls.length)h.load(c);else if(!d.length){b=d.namesCache;p=b.length;for(g=[];e<p;e++)l=b[e],m=a[l],4!==m.status&&h.error("["+l+"] module failed to use."),g[f++]=m.exports;d.callback&&d.callback.apply(null,g);delete v[c]}},create:function(b,a,c){var d=G[a],e=t.module[a],f,g;e.useKey=
c;e.status=1;if(~b.indexOf(".css"))return g=document.createElement("link"),g.rel="stylesheet",g.href=b,d&&(g.charset=d),g.onload=g.onerror=function(){g=g.onload=g.onerror=null;e.status=4;v[c].length--;h.fireFactory(c);h.complete(e)},g;f=document.createElement("script");f.className=F;f.async=!0;d&&(f.charset=d);s&&(f.onerror=function(){f.onerror=f.onload=null;n.removeChild(f);f=null;h.error("["+a+"] module failed to load, the url is "+b+".")});f[s?"onload":"onreadystatechange"]=function(){if(s||H.test(f.readyState))f[s?
"onload":"onreadystatechange"]=null,n.removeChild(f),f=null,h.complete(e)};f.src=b;return f},load:function(b){for(var a=v[b],c=a.names.shift(),a=a.urls.shift(),d=a.length,e=0,f;e<d;e++)f=h.create(a[e],c[e],b),n.insertBefore(f,n.firstChild)}},t={module:{},use:function(b,a){b="string"===typeof b?[b]:b;var c=t.module,d=b.length,e=!0,f=[],g=[],p=[],m=0,l,x,y,k;for(k=0;k<d;k++)y=h.parseModId(b[k],D),x=y[0],l=c[x],l||(l=c[x]={},e=!1),g[g.length++]=x,p[p.length++]=l.url=y[1];d=g.join("_")+"_"+ +new Date+
(Math.random()+"").slice(-8);f=f.concat(g);if(e){d=f.length;e=[];for(k=0;k<d;k++)g=f[k],l=c[g],4!==l.status&&h.error("["+g+"] module failed to use."),e[m++]=l.exports;a&&a.apply(null,e)}else v[d]={length:f.length,namesCache:f,names:[g],urls:[p],callback:a,factorys:[],deps:{}},h.load(d)},modify:function(b,a){w[b]=a},config:function(b){var a=b.baseUrl,c="http"===a.slice(0,4);b=b.charset;var d;D=c?a:h.mergePath(a,u.location.href);if(b)for(d in b)G[d]=b[d]}};u.define=function(b,a,c){"string"!==typeof b?
("function"===typeof b?c=b:(c=a,a=b),b=h.getCurrentScript()):a!==B&&c===B&&(c=a,a=null);var d=t.module,e=d[b],f=!1,g=!0,p=[],m=[],l=0,x=0,y,k,q,u,n,z,A,w,r,s;if(e){y=e.useKey;k=v[y];q=e.url;e.status=2;e.deps=[];if(a&&a.length){u=q.slice(0,q.lastIndexOf("/")+1);q=k.factorys;w=k.deps[b]={};for(r=0;r<a.length;r++)A=h.parseModId(a[r],u),z=A[0],n=d[z],e.deps.push(z),w[z]=!0,n?(4!==n.status&&(f||(f=!0,s=z),g=!1),a.splice(r--,1)):(n=d[z]={},g=!1,k.length++,p[p.length++]=z,m[m.length++]=n.url=A[1]);if(!g&&
(q.unshift({name:b,factory:c}),s)){a=k.deps[s];for(r=q.length-1;0<=r;r--){A=q[r].name;if(A===s&&(x=r,!a))break;if(a&&a[A]){l=r;break}}q.splice(l+1,0,q.splice(x,1)[0]);q.splice(l+1,0,q.shift())}p.length&&(k.names.unshift(p),k.urls.unshift(m))}g&&h.factoryHandle(b,e,c,k);h.fireFactory(y);e.deps.length||delete e.deps}else e=d[b]={},a&&(e.deps=a),h.factoryHandle(b,e,c)};u.define.amd={jQuery:!0};h.init();return t}()})(window);
